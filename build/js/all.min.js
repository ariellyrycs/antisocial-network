!function(){"use strict";var a=angular.module("AntisocialNetwork",["ngRoute"]);a.constant("settings",{baseUrl:"http://localhost:3000/"})}(),function(){"use strict";function a(a,b,c){var d=c.baseUrl,e={main:d+"templates/main.jade"};b.resourceUrlWhitelist(["self",d+"**"]),a.when("/as",{templateUrl:e.main,controller:"MainController"}).otherwise({redirectTo:"/"})}angular.module("AntisocialNetwork").config(["$routeProvider","$sceDelegateProvider","settings",a])}(),function(){"use strict";app.controller("ExamplePageController",["$scope","$http","fb.services","fb.controllers","fb.config",function(a,b,c){a.response={},a.initState="Initialising...",a.fb=c,a.fb.init(a).then(function(){a.initState="Ready!"}),a.verifyMe=function(){a.response.isValid="checking...";var d="/verify/";d+=encodeURIComponent(c.authResponse.userID),d+="/",d+=encodeURIComponent(c.authResponse.accessToken),b.get(d).success(function(b){console.log("response",b),a.response=b})}}])}(),function(a){"use strict";var b=a.module("fb.services",[]),c=function(a,b,c){var d=this;this.ctrlScope={},this.loading=!1,this.loadingMessage="",this.status="not_ready",this.me=null,this.permissions=null,this.picture=null,this.authResponse=null;var e=function(){var b=a.defer();return FB.api("/me/permissions",function(a){d.permissions=a,b.resolve()}),b.promise},f=function(){var b=a.defer();return FB.api("/me",function(a){d.me=a,b.resolve()}),b.promise},g=function(){var b=a.defer();return FB.api("/me/picture",function(a){d.picture=a.data,b.resolve()}),b.promise},h=function(a,h){d.status=a.status,d.authResponse=a.authResponse;var i=function(){b(function(){c.DEBUG&&(console.log("me:",d.me),console.log("status:",d.status),console.log("permissions:",d.permissions),console.log("picture:",d.picture),console.log("authResponse:",d.authResponse)),d.resetLoading(),h&&h.resolve()})};"connected"===d.status?f().then(e).then(g).then(i):i()},i=function(){d.me=null,d.permissions=null,d.authResponse=null};this.init=function(b){var e=a.defer();return d.ctrlScope=b,d.setLoading("Initialising authentication..."),FB.init({appId:c.APP_ID,version:c.API_VERSION}),FB.getLoginStatus(function(a){h(a,e)}),e.promise},this.login=function(){var b=a.defer();return d.setLoading("Attempting to login..."),FB.login(function(a){h(a,b)},{scope:c.PERMISSIONS}),b.promise},this.logout=function(){var b=a.defer();return d.setLoading("Logging you out..."),FB.logout(function(a){i(),h(a,b)}),b.promise},this.setLoading=function(a){d.loading=!0,d.loadingMessage=a},this.resetLoading=function(){d.loading=!1,d.loadingMessage=""}};c.$inject=["$q","$timeout","FacebookLoginConfig"],b.service("FacebookLoginService",c)}(angular),function(a){"use strict";var b=a.module("fb.controllers",[]),c=function(a,b){a.fb=b,b.init(a)};c.$inject=["$scope","FacebookLoginService"],b.controller("FacebookLoginController",c)}(this.angular);